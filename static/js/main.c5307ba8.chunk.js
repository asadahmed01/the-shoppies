(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(0),i=n.n(s),o=n(3),c=n.n(o),r=(n(28),n(29),n(7)),l=n.n(r),u=n(4),d=n(18),h=n(19),m=n(20),b=n(23),j=n(22),v=n(21),f=n.n(v),p=(n(49),n(5)),O=function(e){var t=e.movies,n=e.onNominate,s=e.status;return Object(a.jsx)("div",{children:Object(a.jsx)("ul",{className:"bg-white mt-4 list-group row text-left",children:t.map((function(e){return Object(a.jsxs)("li",{className:"p-3 list-group-item border-0 col-8",children:[e.Title," (",e.Year,")"," ",Object(a.jsx)("div",{className:"col-4 text-right",children:Object(a.jsx)("button",{className:"btn btn-primary",type:"button",onClick:function(){return n(e.imdbID)},disabled:s===e.imdbID,children:"Nominate"})})]},e.imdbID)}))})})},g=function(e){var t=e.list,n=e.onRemove;return Object(a.jsxs)("div",{className:"bg-white mt-4 text-left",children:[Object(a.jsx)("h3",{children:t.length>0&&"Nominated"}),t.length?Object(a.jsx)("ul",{className:"list-group",children:t.map((function(e){return Object(a.jsxs)("li",{className:"list-group-item border-0 ",children:[e.Title," ",e.Year,Object(a.jsx)("button",{className:"btn btn-danger",onClick:function(){return n(e.imdbID)},children:"Remove"})]},e.imdbID)}))}):""]})},x=function(e){Object(b.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={movies:[],search:[],nominated:[],value:"",isButtonDisabled:-1},e.handleChange=function(){var t=Object(d.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state.movies,a=n.target.value,e.setState({value:a}),"c2e53c15",f.a.get("https://www.omdbapi.com/?apikey=".concat("c2e53c15","&s=").concat(a)).then((function(e){return e.data})).then((function(t){if(t.Search){e.setState({movies:[].concat(Object(u.a)(e.state.movies),[t.Search])});var n=t.Search.filter((function(e){return e.Title.toLowerCase().includes(a.toLowerCase())}));e.setState({search:n})}}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleNominate=function(t){var n=e.state,a=n.search,s=n.nominated;e.setState({isButtonDisabled:t});var i=Object(u.a)(a).filter((function(e){return e.imdbID===t}));e.setState({nominated:[].concat(Object(u.a)(e.state.nominated),Object(u.a)(i))}),console.log(e.state.nominated),localStorage.setItem("nominated",JSON.stringify(s)),4!==s.length||p.b.success("You have nominated 5 movies.",{position:"top-center",hideProgressBar:!0,autoClose:1500})},e.handleRemove=function(t){var n=e.state.nominated,a=Object(u.a)(n).filter((function(e){return e.imdbID!==t}));e.setState({nominated:a});var s=JSON.parse(localStorage.getItem("nominated")).filter((function(e){return e.imdbID!==t}));p.b.error("Move deleted from the list",{position:"top-center",autoClose:1500,hideProgressBar:!0}),localStorage.setItem("nominated",JSON.stringify(s))},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("nominated")||"[]");this.setState({nominated:e})}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"container mt-5 bg-light p-5 flex",children:[Object(a.jsx)("h1",{className:"mb-5",children:"Shoppies: Movie awards for entrepreneurs"}),Object(a.jsx)("input",{value:this.state.value,type:"text",placeholder:"Search movie to nominate...",className:"form-control",onChange:this.handleChange}),Object(a.jsxs)("div",{className:"row texti-left",children:[Object(a.jsxs)("div",{className:"col-6",children:[Object(a.jsx)("h3",{children:this.state.search.length>0&&'Results for "'.concat(this.state.value,'"')}),Object(a.jsx)(O,{movies:this.state.search,onNominate:this.handleNominate,status:this.state.isButtonDisabled})]}),Object(a.jsx)("div",{className:"col-6 text-left",children:Object(a.jsx)(g,{list:this.state.nominated,onRemove:this.handleRemove})})]})]})}}]),n}(s.Component);n(54);var N=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(x,{}),Object(a.jsx)(p.a,{})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),s(e),i(e),o(e)}))};n(55);c.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(N,{})}),document.getElementById("root")),S()}},[[56,1,2]]]);
//# sourceMappingURL=main.c5307ba8.chunk.js.map